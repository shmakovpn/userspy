{% extends './base.html' %}
{% load static %}

{% block title %}ЖдуТебя - '{{ user }}'{% endblock %}

{% block this %}
    <link rel="stylesheet" href="{% static 'spy/app.css' %}" />
    <script src="{% static 'spy/app.js' %}"></script>
{% endblock %}

{% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <a class="navbar-brand" href="{% url 'index' %}">
            <ion-icon name="train" style="vertical-align: middle" role="img" class="md hydrated" aria-label="grid"></ion-icon>
            <span>ЖдуТебя</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <!--<li id="update-btn" class="nav-item nav-item-highlight">
                    <a class="nav-link" href="#">
                        <ion-icon name="refresh-circle" style="vertical-align: middle" role="img" class="md hydrated" aria-label="grid"></ion-icon>
                        <span>Обновить</span>
                    </a>
                </li>-->
                <li id="add-btn" class="nav-item nav-item-highlight">
                    <a class="nav-link" href="#">
                        <ion-icon name="add-circle" style="vertical-align: middle" role="img" class="md hydrated" aria-label="grid"></ion-icon>
                        <span>Добавить</span>
                    </a>
                </li>
            </ul>
            <div class="my-2 my-lg-0">
                <div class="loader"></div>
            </div>
            <div class="my-2 my-lg-0">
                <span style='margin-right: 15px; font-weight: bold; color: #dddddd;'>{{ user.username }}</span>
                <!--<a class="button text-white" href="{% url 'logout' %}">
                    <ion-icon name="walk" style="vertical-align: middle" role="img" class="md hydrated" aria-label="grid"></ion-icon>
                    <span>Выход</span>
                </a>-->
            </div>
        </div>
    </nav>
    <!-- indentation between navigation menu and content -->
    <div class="container-fluid" style="padding: 28px 2rem;">
    </div>
{% endblock %}

{% block content %}
    <div class="content-items">
        <div id="active-tasks" class="content-item">
            <div id="no-active-tasks">Список наблюдаемых адресов пуст</div>
            <div id="active-tasks-list">
                <table class="table table-striped table-hover">
                    <thead class="thead-light">
                        <tr>
                            <th class="ip">IP</th>
                            <th class="desc">Описание</th>
                            <th class="status">Статус</th>
                            <th class="datetime">Активно</th>
                            <th class="datetime">Добавлено</th>
                            <th class="actions">&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div id="no-heartbeat">Сервис временно недоступен</div>
        </div>
        <div id="add-task-form" class="content-item">
            {% csrf_token %}
            <div>Добавить наблюдение за IP адресом</div>
            <div>
                <span>IP</span>
                <span>
                    <input type="text" id="add-task-ip" value="" />
                </span>
            </div>
            <div>
                <div>Описание</div>
                <div>
                    <textarea id="add-task-desc" /></textarea>
                </div>
            </div>
            <div>
                <input type="button" id="add-task-submit" value="Добавить" />
                <input type="button" id="add-task-cancel" value="Отменить" />
            </div>
        </div>
    </div>
{% endblock %}
